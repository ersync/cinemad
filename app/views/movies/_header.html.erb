<div class="font-SourceProNormal antialiased">
  <!-- Desktop Header Section -->
  <div class="hidden sm:block min-h-[570px] font-SourceProNormal bg-cover bg-no-repeat header-bg-position text-white" style="background-image: url(<%= rails_blob_url(@movie.background) %>);">
    <div class="h-full" style="background-image: <%= dynamic_gradient_style(@movie)[:desktop] %>;">
      <div class="container h-full min-h-[570px]">
        <div class="flex justify-start items-center gap-6 lg:gap-10 h-full py-4 px-2 md:py-[30px] md:px-0 ">
          <!-- Cover Section -->
          <div class="flex flex-col shrink-0 w-[240px] md:w-[300px] rounded-lg overflow-hidden">
            <!-- Movie Cover Image -->
            <div class="relative grow group cursor-pointer">
              <div class="absolute inset-0 hover:bg-black/70 transition-all duration-300 hover:backdrop-blur-[20px]">
                <div class="flex justify-center items-center gap-1.5 h-full invisible group-hover:visible">
                  <svg class="w-[1.3rem] h-[1.3rem]">
                    <use xlink:href="#expand"></use>
                  </svg>
                  <p class="hover:text-white/70 text-[1.3rem]">Expand</p>
                </div>
              </div>
              <div>
                <%= image_tag @movie.cover, alt: "Cover Image" %>
              </div>
            </div>
            <!-- Streaming Details -->
            <div class="flex justify-center items-center gap-3 h-[60px] bg-tmdbDarkBlue">
              <div class="w-9 h-9 ">
                <img src="https://www.themoviedb.org/t/p/original/t2yyOv40HZeVlLjYsCsPHnWLk4W.jpg" alt="">
              </div>
              <div>
                <h4 class="text-white/80 leading-4">Now Streaming</h4>
                <h3 class="font-SourceProSemiBold leading-4">Watch Now</h3>
              </div>
            </div>
          </div>
          <!-- Movie Details Section -->
          <div class="flex flex-col justify-center items-start grow">
            <!-- Title and Release Year -->
            <div>
              <h2 class="font-SourceProBold text-[1.7rem] md:text-[2.2rem] leading-10">
                <span><%= @movie.title %></span>
                <span class="text-white/80 font-SourceProNormal">(<%= @movie.release_date.year %>)</span></h2>
              <!-- Movie Rating and Release Date -->
              <div>
                <span class="text-white/60 border border-white/60 inline-flex justify-center items-center py-0.5 px-1 mr-[7px] rounded-sm leading-4">12A</span>
                <span><%= @movie.release_date.strftime("%m/%d/%Y") %> (GB)</span>
                <span class="disc relative ml-5"></span>
                <span>
                 <%= @movie.categories.map(&:name).join(", ") %>
                  </span>
                <span class="disc relative ml-5"></span>
                <span><%= "%dh %02dm" % [@movie.duration / 60, @movie.duration % 60] %> </span>
              </div>
            </div>
            <!-- Actions Panel Component -->
            <div id="actions-panel" class="flex justify-center items-center gap-2
            lg:gap-x-5 md:h-[68px] my-4 md:my-6" data-movie-id="<%= @movie.id %>"></div>
            <!-- Movie Overview Section -->
            <div>
              <p class="text-[1.1rem] italic text-white/70 leading-4 mt-3 md:mt-0"><%= @movie.tagline %></p>
              <!-- Movie Overview Text -->
              <div>
                <h3 class="text-[1.3rem] font-SourceProSemiBold mt-2.5 mb-2">Overview</h3>
                <p class="leading-5 text-justify lg:text-left"><%= @movie.overview %></p>
                <!-- Movie Crew Section -->
                <ul class="flex flex-wrap justify-start gap-y-5 font-SourceProBold mt-5">
                  <% @crew.uniq.each do |crew| %>
                    <%= display_crew_information(crew) %>
                  <% end %>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Mobile Header Section -->
  <div class="text-white" style="background-color: <%= @movie.gradient_color %>">
    <!-- Mobile Image & Title -->
    <div class="sm:hidden font-SourceProNormal pb-4">
      <div class="h-[calc(100vw/2.22222)] bg-cover bg-no-repeat header-bg-position" style="background-image: url(<%= rails_blob_url(@movie.background) %>);">
        <div class="relative h-full" style="background-image: <%= dynamic_gradient_style(@movie)[:mobile] %>;">
          <div class="absolute top-0 bottom-0 my-auto left-5 h-[calc((100vw/2.222222)_-_40px)] w-[calc(((100vw/2.222222)_-_40px)/1.5)]">
            <!-- Mobile Movie Cover Image -->
            <%= image_tag @movie.cover, alt: "Cover Image" %>
          </div>
        </div>
      </div>
      <!-- Mobile Movie Title Section -->
      <h2 class="text-center text-[calc(.6em_+_3vw)] font-SourceProSemiBold py-4 px-5 leading-[34px]">
        <span><%= @movie.title %></span>
        <span class="font-SourceProNormal text-white/80 text-[0.8em]">(<%= @movie.release_date.year %>)</span></h2>
      <!-- Mobile Rating Widget Component -->
      <div id="rating-widget" data-movie-id="<%= @movie.id %>"></div>
    </div>
    <!-- Mobile facts Section -->
    <div class="flex sm:hidden flex-col justify-center items-center bg-tmdbDarkerBlue p-2.5 border-y border-y-black/20">
      <div>
        <span class="text-white/60 border border-white/60 inline-flex justify-center items-center py-0.5 px-1 mr-[7px] rounded-sm leading-4">12A</span>
        <span><%= @movie.release_date.strftime("%m/%d/%Y") %> (GB)</span>
        <span class="disc relative ml-5"></span>
        <span><%= "%dh %02dm" % [@movie.duration / 60, @movie.duration % 60] %></span>
      </div>
      <div>
        <span><%= @movie.categories.map(&:name).join(", ") %></span>
      </div>
    </div>
    <!-- Mobile Details Section -->
    <div class="sm:hidden p-5">
      <p class="text-[1.1rem] italic text-white/70 leading-4"><%= @movie.tagline %></p>
      <div>
        <h3 class="text-[1.3rem] font-SourceProSemiBold mt-2.5 mb-2">Overview</h3>
        <p class="leading-5"><%= @movie.overview %></p>
        <ul class="flex flex-wrap justify-start gap-y-5 font-SourceProBold mt-5">
          <% @crew.uniq.each do |crew| %>
            <%= display_crew_information(crew) %>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>